{% extends "base.html" %}
{% load socialaccount %}

{% block title %}Registro{% endblock %}

{% block content %}
<h1>Crear cuenta</h1>

<form method="post" action="{% url 'account_signup' %}">
  {% csrf_token %}
  {{ form.non_field_errors }}
  <div>
    <label for="id_username">Usuario</label>
    {{ form.username }}
    {{ form.username.errors }}
  </div>
  <div>
    <label for="id_email">Email</label>
    {{ form.email }}
    {{ form.email.errors }}
  </div>
  <div>
    <label for="id_password1">Password</label>
    {{ form.password1 }}
    {{ form.password1.errors }}
  </div>
  <div>
    <label for="id_password2">Confirmacion</label>
    {{ form.password2 }}
    {{ form.password2.errors }}
  </div>

  <!-- extra fields directos al Profile via formulario custom (ver paso 4) -->
  <div>
    <label for="id_phone">Telefono</label>
    <input type="text" name="phone" id="id_phone">
  </div>
  <div>
    <label for="id_default_address">Direccion</label>
    <input type="text" name="default_address" id="id_default_address">
  </div>

  <button type="submit">Crear cuenta</button>
</form>

<hr>

<!-- Boton de Google con allauth -->
<a href="{% provider_login_url 'google' %}">Continuar con Google</a>
{% endblock %}
